appVersion: "0.0.0"

secret:
  smtpUser: "placeholder_env_matters"
  smtpPassword: "placeholder_env_matters"

config:
  appPort: 8080
  modelHost: "http://model-service:8081"

modelService:
  versions:
    v1:
      enabled: true
      image: "sms-model-service:latest"
      port: 8081
      storage:
        size: "1Gi"
        mountPath: "/model-service/output"
      versionLabel: "v1"
    v2:
      enabled: true
      image: "sms-model-service:latest"
      port: 8081
      storage:
        size: "1Gi"
        mountPath: "/model-service/output"
      versionLabel: "v2"

app:
  versions:
    v1:
      enabled: true
      image: "sms-checker-app:latest"
      port: 8080
      modelHost: "http://model-service:8081"
      versionLabel: "v1"
    v2:
      enabled: true
      image: "sms-checker-app:latest"
      port: 8080
      modelHost: "http://model-service:8081"
      versionLabel: "v2"

ingress:
  enabled: true

kube-prometheus-stack:
  grafana:
    enabled: false
  
  defaultRules:
    create: false
  
  prometheus-node-exporter:
    enabled: false
  
  kube-state-metrics:
    enabled: false

  prometheus:
    enabled: true
    prometheusSpec:
      serviceMonitorSelector: {}
      serviceMonitorNamespaceSelector: {}
      ruleSelectorNilUsesHelmValues: false
      ruleSelector: {}

  alertmanager:
    enabled: true
    config:
      global:
        resolve_timeout: 5m
        smtp_smarthost: "smtp.gmail.com:587"
        smtp_from: "elenaaibzz@gmail.com"
        smtp_auth_username: "elenaaibzz@gmail.com"
        smtp_auth_password: "PLACEHOLDER_CHANGE_DURING_INSTALL"
        smtp_require_tls: true
      
      route:
        receiver: email-devs
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 5m
        repeat_interval: 3h
      
      receivers:
      - name: email-devs
        email_configs:
        - to: "elenaaibzz@gmail.com"
          send_resolved: true
          headers:
            Subject: "[ALERT] {{ .GroupLabels.alertname }}"
